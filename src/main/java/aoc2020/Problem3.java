package aoc2020;

import java.util.Arrays;
import java.util.List;

public class Problem3 {
    public static void main(String[] args) {
        String[] str = Arrays.stream("""
                        .##......#.##..#..#..##....#...
                        ...##.....#...###........###...
                        #....##....#.....#.....#..##.##
                        .......#.###.#......#..#..#..#.
                        ##..........#....#.#...#.......
                        ###.#.#.#......##...#..........
                        .#.##........#..............#..
                        ..#..........#...##..#.......##
                        .........##...#...#....###.#...
                        #.......#.....#.#.#...###.##.#.
                        ...#...#...#......#........#.##
                        ....#..........#.....#..#....##
                        .#.#.##....#.#...#.............
                        #....#..#.....#.#..............
                        ........#....#....#..#........#
                        ..#.......#...#....##.#........
                        ......#.........##.......#.#...
                        ............#.......#..........
                        .....#..#.#..#........##...#...
                        ....#.....................###..
                        ..#.......#.........#..##....##
                        ..#........#..#...#........#...
                        ..............#....##..##....#.
                        ....#..#.#.......#....#..#...##
                        .#........##......#.#..#.#.....
                        ............#.##...##...#...##.
                        .......#........#.........##...
                        ...#...........#.#...#..#......
                        #...#............#..####.......
                        ..#..#..#..#.....#...#.#.#.....
                        ....#.#..............#.....##..
                        #.....##........#......#.......
                        .....#..#................##.#..
                        .###.#...................#.....
                        ....#....#...#.##..........#...
                        .#.....#....#.......#...#......
                        .....#...#.##.##............#..
                        ..........#..#....#...#.#..#...
                        #...#..#..............###.#...#
                        ......#....#.#....##....#......
                        ............#......#......##...
                        .#....#...#........#.#.#..#....
                        ..#.....#.......#.....#.#......
                        #....#......#.......#......#...
                        ....#..##.....#...#........#...
                        .#..#......#..#................
                        .#...#...#....#.#...#.....#...#
                        ......#..#...#...#..#.......##.
                        ...#..#...#.#.......#.......#..
                        ..#...#.........#......#......#
                        ......#...#..#..........#......
                        .#..#......#....#.#.#...#....#.
                        .#.#....#.#.#..#..#..#........#
                        ....###.#...##..#.#..#....#....
                        ...#.#.#................#......
                        .#.....#..#..........##..#....#
                        ..........#..#......#.........#
                        .....#....#...#.#..##....#.#.#.
                        ........#.##......###..........
                        ##......#.#..#.....#..##.#.....
                        .#.......#..#....##.....##.....
                        .....##....#...................
                        ##......#....##........#.....#.
                        ..##...#...........##........#.
                        ...#....#..##.#....#......##...
                        #....#...##....#..........#....
                        ......##....#...............#..
                        ...#.#.#...#...#...#...........
                        ....#..#...#.#....#.#......#...
                        .......#...#...............#...
                        .##..#....#...#....#.#........#
                        .....#..##............#......#.
                        ...##...#.....#..........#.#..#
                        ..#..##.............#....#.....
                        .....#.#.....#.........#......#
                        ........#..........#.#.#...#..#
                        #........#.#...................
                        ......#......##..............#.
                        ......#..#.#.....#...#.#...#...
                        .#..##.....#...##.......#......
                        #.......#....#..##....#..#.#...
                        #..#..#....#...........#.##....
                        ..##....#....##.....#...#...##.
                        .#.......#.......#....#.......#
                        .#..#..#...#...#...............
                        .#..............#.....#........
                        ..........##...#....#.#......##
                        ..........#..........#.......#.
                        ..#..##....##...#.......#......
                        .#......#.#........##.#........
                        ...#......#..#....#...#....#...
                        ...............#....#..#.##...#
                        ....#.......................#..
                        #....##.#......#....#..........
                        .......#.#......#........#..##.
                        ..#.....#...#...........##..#..
                        #........#.#....#............#.
                        .........##..................#.
                        ........#...#..#...#......#...#
                        ...#.......#...####.#...#......
                        ....#..###......###..#.........
                        .....#...........#......#......
                        .#.....#......#.....#.....##.##
                        .#.#...##..........#........#.#
                        ..#....#.....##...............#
                        .....##.....#...##..#..........
                        .#......##.......#..##.##.#...#
                        .#..#...#.##.....#.#...........
                        .........#....##...#.....##....
                        #..........#.............#..#.#
                        ...........#........#.#...#....
                        ........#..###...#...........#.
                        #.........#...#....#..##.##....
                        ........#....##.......#.#....#.
                        ..........#..............#.....
                        ....##...#...##..........#.....
                        ...#..##.#...###..#............
                        ...##..#####....#.............#
                        .#..#.......##.......#........#
                        ....##..........#.......#.#....
                        ......#.........####.......#...
                        ...............#......#..#.....
                        ...#...##...#.#.#.....##.#.#...
                        ..#....#..#..............#....#
                        #..............#............#..
                        .#.#..#....#.....#.#.#...#.....
                        ......#......#..#..#.....#.....
                        .#.#..#.##.#........#..........
                        ..##.#......#..#.......#.......
                        .##...##....#..#.#.........#.##
                        .........#........#.#..###....#
                        .....#...............#.........
                        ......##..........#.....#......
                        .#.....#.#.#..#.#.....#..#.####
                        .......###.##......#.....#.#..#
                        ..#.....#....#.#.##......#....#
                        .....##..#................#..##
                        .#......#.....#..#.....#..#####
                        .........#.#.......#..##...#...
                        .#.#..#.......##.....#....#....
                        .....#...###.#...#......#....#.
                        .#....#....#...#..#.#........#.
                        ......##........##.#...#..#..#.
                        .##.##.###..#.....#........###.
                        .....#..#.#.......#..#.#.......
                        ##.#.#..............#..##......
                        ....#.........#.......#.#......
                        .....#..#.....#...#.#....#.#...
                        ...#..#.#.#..................#.
                        ........##.#.###...............
                        ..#...#.#.......#......#.......
                        .......#.##....#...#....#......
                        ......#.#.............#........
                        ........#......#........##.##..
                        .....#...#......##.............
                        ...#.#..#.....#.#...#..........
                        .#.#..#.....#............#.....
                        .#.#..#.#.##.#...#.##..##...#..
                        .........##........#.##..#.....
                        ##.#.#......###..#.##.#........
                        .##...#..#...#.#..#....##.....#
                        #......#..........#.#...#.....#
                        ..........#......#...#.......#.
                        .............#..........#......
                        #.#....#.......##..#.....#.#...
                        ##......#..#......#.#..#.#....#
                        ..#.#..#.....#.#......#....#..#
                        ...#......#......##.....#..#.#.
                        ....#......#.....#....#.#.#..#.
                        .....#..#..#.....#...........##
                        ....#.....#...#........##.#.#.#
                        ..#......#.......#........#....
                        #.......##..##......#...####..#
                        #..........#......#.#..#..#....
                        .................##............
                        ...#..#..#.#.....#.##.#.....#.#
                        ...#....###....................
                        ....#.......#..#.#.............
                        #......#................#......
                        ..........#........#..#........
                        .....#......##..#......#..###..
                        ...#....#.......#..............
                        .#....#.#.#........#.....#...#.
                        .......#.....##.#.....#....#...
                        .........#.#.........##..#...#.
                        ......#......#....#.....##.#.#.
                        ####...#.........#.....#......#
                        ...#.#..#..#.............#.....
                        ......#.........#....#.#..##..#
                        .........#.....#.#..##..##..#..
                        .#......##.............#.......
                        ....#...#......#...#.....#.#.##
                        ......#..##....#..#.....#......
                        ......#..............#....##...
                        .........#.###..........#.##...
                        #....#..........#..#.......#...
                        ...........#...#.....#.......#.
                        ..#..#........#................
                        ...###.........#...............
                        .....#.##...#.................#
                        ..#.#..#...###......#........#.
                        #......#......#.#.............#
                        .........#.#.....#..#........#.
                        ........#..#......#......##....
                        .....#......#...#.....##...#.##
                        .##...#..#....##..........###..
                        .......#............#........##
                        .##.....#.......#...#..........
                        ..###..........#.............##
                        #....#....#.#....#............#
                        #...#......................#...
                        ....#..#..#..#.......###....#..
                        #..###.#..#.....#.............#
                        ..........#.##.....#.........##
                        ...#.............#....#....##..
                        #........................#..#..
                        ........#...#.....#.....#..##..
                        #........#......#....#..#....#.
                        .....#.#.#....#.#..#....#......
                        .....#....#....................
                        .........#..#..#....#......#...
                        ..........#.#.#.......#........
                        .......#.#.....#..#.....##.....
                        .....#....#.#.....#.......#..#.
                        .#..###.......#......#..#..#...
                        ..##.#.....#.........##.#......
                        .....#.......###.......##......
                        #...#.......##.#.#......#.....#
                        .##........##.#...#...#........
                        ....#.......#....#..#.......#..
                        .#..#.......#..####..##........
                        ..#..#..#..#..#..#.............
                        ...#......#...#...#.#......##.#
                        ........#.#..#.#.#......#...#..
                        #.......#..##.......##........#
                        ..##...#...............#.#....#
                        .####........##..........#..#..
                        ..#........#...##...#........#.
                        .#.#..........#...#...#........
                        ....###..........#....#........
                        .#.#.#.###.#.##..#.#........#..
                        ..........#....##.#..##........
                        .......#..#..##.......#........
                        ..#........#....#..####.#..#...
                        ....#.......#..##..#..........#
                        .....#...........#....#....#...
                        .#.##..#......##.........#.#...
                        ...#......##..##......#.....#..
                        #........#..........#.#...#....
                        .#.#........###........#..#....
                        ....#####.................##...
                        .........##...#......#.........
                        .......#....#....#.#....#...#..
                        ......#................#...#.#.
                        ....#.....#.....#.#.....#.....#
                        #.........#..#........#.....#..
                        ....#...........#.....#.#......
                        ##..#....................#.#...
                        #.#.##....#.....##....#.......#
                        ..#..#....###.......#..##......
                        ......##.....#.##...#....#..#..
                        ........#..#.#..#..#.#.........
                        #...#.....##..........##.......
                        ....#.....#...#.###.......#....
                        ..........#..#...#........##..#
                        ##..#...#.#.####.#..#..#...#...
                        ................#......#..#....
                        .......#...###...#........#....
                        ....#..##..#.#......#...#.#..##
                        .##......#...........#.......##
                        ....#.#...#..#.#.......##......
                        ....#..##..#.....#........##...
                        ...#...#..#.#.#....#.........#.
                        #....##.#....#..##.............
                        .#......##......#.#.##.......#.
                        .......#...#....#.##......#....
                        ..##..........#.....#.#......#.
                        #..##.....#..........##..#.#...
                        ....#.#.......#.#.....#.....#..
                        ##.....#..#.....##...#.....#..#
                        ...#.#..#...#..............#...
                        ...............#..#............
                        .#.......#......#........##....
                        ..#......#..##..####.....#...#.
                        .#.##.#.#..#..##..##...........
                        ...##.............#.....#..#...
                        .##.....#..#.#......##........#
                        ##....#.............#...#......
                        ......#.....###...........##...
                        .#.#...#.............##..#..###
                        ..#.##.##...#.....#...........#
                        .....#.....##...#...#........#.
                        ........#..##.......##.....#...
                        .#........####.......#.#...#...
                        ...#..........#......##........
                        .......#......#..##..#...#.....
                        ..#...........#.#.#..#.#.#.....
                        #..........#....#....###.#.....
                        ....#.................#...##...
                        #....#.###......#..#.....#...##
                        .#.......##.....###.....#...#..
                        ....##............#...........#
                        ...#.#.#.........#...#..#..#..#
                        .....#..###.................#..
                        .#.....#.....#....###.#..#...#.
                        ................#...#..........
                        ..#....#..##....#.##........#..
                        ....##....#...........#..#.....
                        ...##......###.......#...#.....
                        .......##............#......#.#
                        #####.....#..#.###..#.#........
                        #.##.##..#.......#....#........
                        ....###..#.#.#......###.#......
                        ....#....#.....##.#..#....#...#
                        ....#.....#.#...##.##.#.#....#.
                        .........#.#.###.#.....#.......
                        .#....#.......#..##...#....#...
                        ...####...##.#.....#...........
                        #.....#.....#..........##..#...
                        ................#.#.#......#...
                        .#...#.......#..#............#.
                        .##.#.......#..#....#.....#....
                        .#...#..#.....#..............#.""".split("\n"))
                .map(string -> string.repeat(100))
                .toArray(String[]::new);
        record Rec(int right, int down) {
        }
        List<Rec> list =
                List.of(new Rec(1, 1), new Rec(3, 1), new Rec(5, 1), new Rec(7, 1), new Rec(1, 2));
        long product = 1;
        for (Rec rec : list) {
            int trees = 0;
            for (int i = 0, j = 0; i < str.length; i += rec.down(), j += rec.right()) {
                if (str[i].charAt(j) == '#')
                    trees++;
            }
            product *= trees;
        }
        System.out.println(product);

    }

}
